EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:LIB_cncc_v1
LIBS:cncc_v1-cache
EELAYER 25 0
EELAYER END
$Descr A 11000 8500
encoding utf-8
Sheet 1 13
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 9050 1350 900  700 
U 56526EA5
F0 "StepperDriverX" 60
F1 "stp_drv.sch" 60
F2 "VM" U R 9950 1500 60 
F3 "GND" U R 9950 1600 60 
F4 "STEP" I L 9050 1400 60 
F5 "DIR" I L 9050 1500 60 
F6 "EN" I L 9050 1600 60 
F7 "~SLEEP" I L 9050 1700 60 
F8 "VREF" I L 9050 2000 60 
F9 "~FAULT" O L 9050 1850 60 
$EndSheet
$Sheet
S 9050 2250 900  700 
U 5653D417
F0 "StepperDriverY" 60
F1 "stp_drv.sch" 60
F2 "VM" U R 9950 2400 60 
F3 "GND" U R 9950 2500 60 
F4 "STEP" I L 9050 2300 60 
F5 "DIR" I L 9050 2400 60 
F6 "EN" I L 9050 2500 60 
F7 "~SLEEP" I L 9050 2600 60 
F8 "VREF" I L 9050 2900 60 
F9 "~FAULT" O L 9050 2750 60 
$EndSheet
$Sheet
S 9050 3150 900  700 
U 56542384
F0 "StepperDriverZ" 60
F1 "stp_drv.sch" 60
F2 "VM" U R 9950 3300 60 
F3 "GND" U R 9950 3400 60 
F4 "STEP" I L 9050 3200 60 
F5 "DIR" I L 9050 3300 60 
F6 "EN" I L 9050 3400 60 
F7 "~SLEEP" I L 9050 3500 60 
F8 "VREF" I L 9050 3800 60 
F9 "~FAULT" O L 9050 3650 60 
$EndSheet
$Sheet
S 9050 4050 900  700 
U 5654C1EE
F0 "StepperDriverA" 60
F1 "stp_drv.sch" 60
F2 "VM" U R 9950 4200 60 
F3 "GND" U R 9950 4300 60 
F4 "STEP" I L 9050 4100 60 
F5 "DIR" I L 9050 4200 60 
F6 "EN" I L 9050 4300 60 
F7 "~SLEEP" I L 9050 4400 60 
F8 "VREF" I L 9050 4700 60 
F9 "~FAULT" O L 9050 4550 60 
$EndSheet
$Sheet
S 6400 3500 900  750 
U 5653A94A
F0 "BrushedDCMotorDriver" 60
F1 "dc_motor_drv.sch" 60
F2 "IN1" I L 6400 3550 60 
F3 "IN2" I L 6400 3650 60 
F4 "~SLEEP" I L 6400 3750 60 
F5 "~FAULT" O L 6400 3850 60 
F6 "SNSOUT" O L 6400 3950 60 
F7 "SDA" B L 6400 4100 60 
F8 "SCL" I L 6400 4200 60 
F9 "VM" U R 7300 3650 60 
F10 "VDD" U R 7300 3750 60 
F11 "GND" U R 7300 3850 60 
F12 "SO" O R 7300 4100 60 
F13 "+5V_REF" O R 7300 4200 60 
$EndSheet
$Sheet
S 6400 4450 900  1800
U 5659B5AB
F0 "SensorsBreakOut" 60
F1 "sns_sch.sch" 60
F2 "VS" U R 7300 4800 60 
F3 "VE" U R 7300 4900 60 
F4 "GND" U R 7300 5000 60 
F5 "X_L+" O L 6400 4500 60 
F6 "X_L-" O L 6400 4600 60 
F7 "X_HM" O L 6400 4700 60 
F8 "Y_LM+" O L 6400 4800 60 
F9 "Y_LM-" O L 6400 4900 60 
F10 "Y_HM" O L 6400 5000 60 
F11 "Z_LM+" O L 6400 5100 60 
F12 "Z_LM-" O L 6400 5200 60 
F13 "Z_HM" O L 6400 5300 60 
F14 "A_LM+" O L 6400 5400 60 
F15 "A_LM-" O L 6400 5500 60 
F16 "A_HM" O L 6400 5600 60 
F17 "E_A" O L 6400 5750 60 
F18 "E_B" O L 6400 5850 60 
F19 "E_IN" O L 6400 5950 60 
F20 "+5V_REF" I R 7300 4500 60 
F21 "SDA" B L 6400 6100 60 
F22 "SCL" I L 6400 6200 60 
F23 "CH7_IN" I R 7300 4600 60 
$EndSheet
$Sheet
S 6350 2300 900  500 
U 565650ED
F0 "DAC" 60
F1 "dac_out.sch" 60
F2 "VDD" U L 6350 2350 60 
F3 "GND" U L 6350 2450 60 
F4 "SDA" B L 6350 2650 60 
F5 "SCL" I L 6350 2750 60 
F6 "CH[0..3]" O R 7250 2450 60 
$EndSheet
$Sheet
S 4150 1750 1250 2200
U 565A3966
F0 "Isolation" 60
F1 "iso.sch" 60
F2 "STEP[0..3]" O R 5400 2100 60 
F3 "DIR[0..3]" O R 5400 2200 60 
F4 "EN[0..3]" O R 5400 2300 60 
F5 "SLEEP[0..3]" O R 5400 2400 60 
F6 "FAULT[0..3]" I R 5400 2500 60 
F7 "DSTP[0..3]" I L 4150 2100 60 
F8 "DDIR[0..3]" I L 4150 2200 60 
F9 "DEN[0..3]" I L 4150 2300 60 
F10 "DSLP[0..3]" I L 4150 2400 60 
F11 "DFLT[0..3]" O L 4150 2500 60 
F12 "IN2" O R 5400 2800 60 
F13 "IN1" O R 5400 2700 60 
F14 "EN" O R 5400 2900 60 
F15 "DFLT" O L 4150 3000 60 
F16 "DSOUT" O L 4150 3100 60 
F17 "DIN1" I L 4150 2700 60 
F18 "DIN2" I L 4150 2800 60 
F19 "DEN" I L 4150 2900 60 
F20 "FAULT" I R 5400 3000 60 
F21 "SOUT" I R 5400 3100 60 
F22 "SDA" B R 5400 3300 60 
F23 "SCL" O R 5400 3400 60 
F24 "DSDA" B L 4150 3300 60 
F25 "DSCL" I L 4150 3400 60 
F26 "DSCL2" I L 4150 3600 60 
F27 "DSDA2" B L 4150 3500 60 
F28 "DO[0..3]" I L 4150 3800 60 
F29 "DI[0..3]" O L 4150 3900 60 
F30 "VDD_LP" U L 4150 1800 60 
F31 "VDD_HP" U R 5400 1800 60 
F32 "GND_LP" U L 4150 1900 60 
F33 "GND_HP" U R 5400 1900 60 
$EndSheet
Wire Wire Line
	7300 4200 7500 4200
Wire Wire Line
	7500 4200 7500 4500
Wire Wire Line
	7500 4500 7300 4500
Wire Wire Line
	7300 4100 7550 4100
Wire Wire Line
	7550 4100 7550 4600
Wire Wire Line
	7550 4600 7300 4600
$Sheet
S 4150 4150 1250 2350
U 565FD8F0
F0 "IsolationInputs&SPIBus" 60
F1 "iso_spi.sch" 60
F2 "DSS[0..4]" I L 4150 6450 60 
F3 "DSCK" I L 4150 6350 60 
F4 "DMISO" O L 4150 6250 60 
F5 "DMOSI" I L 4150 6150 60 
F6 "VDD_LP" U L 4150 4200 60 
F7 "GND_LP" U L 4150 4300 60 
F8 "VDD_HP" U R 5400 4200 60 
F9 "GND_HP" U R 5400 4300 60 
F10 "DX_L+" O L 4150 4500 60 
F11 "DX_L-" O L 4150 4600 60 
F12 "DX_HM" O L 4150 4700 60 
F13 "DY_LM+" O L 4150 4800 60 
F14 "DY_LM-" O L 4150 4900 60 
F15 "DY_HM" O L 4150 5000 60 
F16 "DZ_LM+" O L 4150 5100 60 
F17 "DZ_LM-" O L 4150 5200 60 
F18 "DZ_HM" O L 4150 5300 60 
F19 "DA_LM+" O L 4150 5400 60 
F20 "DA_LM-" O L 4150 5500 60 
F21 "DA_HM" O L 4150 5600 60 
F22 "DE_A" O L 4150 5750 60 
F23 "DE_B" O L 4150 5850 60 
F24 "DE_IN" O L 4150 5950 60 
F25 "X_L+" I R 5400 4500 60 
F26 "X_L-" I R 5400 4600 60 
F27 "X_HM" I R 5400 4700 60 
F28 "Y_LM+" I R 5400 4800 60 
F29 "Y_LM-" I R 5400 4900 60 
F30 "Y_HM" I R 5400 5000 60 
F31 "Z_LM+" I R 5400 5100 60 
F32 "Z_LM-" I R 5400 5200 60 
F33 "Z_HM" I R 5400 5300 60 
F34 "A_LM+" I R 5400 5400 60 
F35 "A_LM-" I R 5400 5500 60 
F36 "A_HM" I R 5400 5600 60 
F37 "E_A" I R 5400 5750 60 
F38 "E_B" I R 5400 5850 60 
F39 "E_IN" I R 5400 5950 60 
$EndSheet
$Sheet
S 4150 1050 1300 500 
U 565E910C
F0 "PowerInput" 60
F1 "pow_in.sch" 60
F2 "+V_STEPPERS" U R 5450 1100 60 
F3 "+V_DC_MOTOR" U R 5450 1200 60 
F4 "+V_SW" U R 5450 1300 60 
F5 "GND" U R 5450 1500 60 
F6 "+V_MCU" U L 4150 1100 60 
F7 "PWR_GOOD" O L 4150 1500 60 
F8 "GND_ISO" U L 4150 1200 60 
F9 "+VDD_LP" U R 5450 1400 60 
$EndSheet
Wire Wire Line
	5450 1100 10150 1100
Wire Wire Line
	10150 1100 10150 4200
Wire Wire Line
	10150 4200 9950 4200
Wire Wire Line
	9950 3300 10150 3300
Connection ~ 10150 3300
Wire Wire Line
	9950 2400 10150 2400
Connection ~ 10150 2400
Wire Wire Line
	9950 1500 10150 1500
Connection ~ 10150 1500
Wire Wire Line
	5450 1200 7650 1200
Wire Wire Line
	7650 1200 7650 3650
Wire Wire Line
	7650 3650 7300 3650
Wire Wire Line
	5450 1300 7700 1300
Wire Wire Line
	7700 1300 7700 4800
Wire Wire Line
	7700 4800 7300 4800
Wire Wire Line
	7300 3750 7700 3750
Connection ~ 7700 3750
Wire Wire Line
	5450 1400 7750 1400
Wire Wire Line
	7750 1400 7750 4900
Wire Wire Line
	7750 4900 7300 4900
Wire Wire Line
	6300 1400 6300 2350
Wire Wire Line
	6300 2350 6350 2350
Connection ~ 6300 1400
Wire Wire Line
	5400 1800 5650 1800
Wire Wire Line
	5650 1400 5650 4200
Connection ~ 5650 1400
Wire Wire Line
	5650 4200 5400 4200
Connection ~ 5650 1800
Wire Wire Line
	5450 1500 7800 1500
Wire Wire Line
	7800 1150 7800 5000
Wire Wire Line
	7800 5000 7300 5000
Wire Wire Line
	7300 3850 7800 3850
Connection ~ 7800 3850
Wire Wire Line
	7800 1150 10100 1150
Wire Wire Line
	10100 1150 10100 4300
Wire Wire Line
	10100 4300 9950 4300
Connection ~ 7800 1500
Wire Wire Line
	9950 3400 10100 3400
Connection ~ 10100 3400
Wire Wire Line
	9950 2500 10100 2500
Connection ~ 10100 2500
Wire Wire Line
	9950 1600 10100 1600
Connection ~ 10100 1600
Wire Wire Line
	6250 1500 6250 2450
Wire Wire Line
	6250 2450 6350 2450
Connection ~ 6250 1500
Wire Wire Line
	5700 1500 5700 4300
Wire Wire Line
	5700 4300 5400 4300
Connection ~ 5700 1500
Wire Wire Line
	5400 1900 5700 1900
Connection ~ 5700 1900
Wire Wire Line
	5400 5950 6400 5950
Wire Wire Line
	5400 5850 6400 5850
Wire Wire Line
	5400 5750 6400 5750
Wire Wire Line
	5400 5600 6400 5600
Wire Wire Line
	5400 5500 6400 5500
Wire Wire Line
	5400 5400 6400 5400
Wire Wire Line
	5400 5300 6400 5300
Wire Wire Line
	5400 5200 6400 5200
Wire Wire Line
	5400 5100 6400 5100
Wire Wire Line
	5400 5000 6400 5000
Wire Wire Line
	5400 4900 6400 4900
Wire Wire Line
	5400 4800 6400 4800
Wire Wire Line
	5400 4700 6400 4700
Wire Wire Line
	5400 4600 6400 4600
Wire Wire Line
	5400 4500 6400 4500
Wire Wire Line
	5400 3300 6250 3300
Wire Wire Line
	6250 2650 6250 6100
Wire Wire Line
	6250 2650 6350 2650
Wire Wire Line
	5400 3400 6300 3400
Wire Wire Line
	6300 2750 6300 6200
Wire Wire Line
	6300 2750 6350 2750
Wire Wire Line
	6250 4100 6400 4100
Connection ~ 6250 3300
Wire Wire Line
	6300 4200 6400 4200
Connection ~ 6300 3400
Wire Wire Line
	6300 6200 6400 6200
Connection ~ 6300 4200
Wire Wire Line
	6250 6100 6400 6100
Connection ~ 6250 4100
Wire Wire Line
	5400 3100 5950 3100
Wire Wire Line
	5950 3100 5950 3950
Wire Wire Line
	5950 3950 6400 3950
Wire Wire Line
	6400 3850 6000 3850
Wire Wire Line
	6000 3850 6000 3000
Wire Wire Line
	6000 3000 5400 3000
Wire Wire Line
	5400 2900 6050 2900
Wire Wire Line
	6050 2900 6050 3750
Wire Wire Line
	6050 3750 6400 3750
Wire Wire Line
	6400 3650 6100 3650
Wire Wire Line
	6100 3650 6100 2800
Wire Wire Line
	6100 2800 5400 2800
Wire Wire Line
	5400 2700 6150 2700
Wire Wire Line
	6150 2700 6150 3550
Wire Wire Line
	6150 3550 6400 3550
Wire Wire Line
	8000 1400 9050 1400
Text Label 9000 1400 2    60   ~ 0
STEP0
Wire Wire Line
	8150 1500 9050 1500
Wire Wire Line
	8300 1600 9050 1600
Wire Wire Line
	8450 1700 9050 1700
Wire Wire Line
	8600 1850 9050 1850
Wire Wire Line
	8750 2000 9050 2000
Text Label 9000 1500 2    60   ~ 0
DIR0
Text Label 9000 1600 2    60   ~ 0
EN0
Text Label 9000 1700 2    60   ~ 0
SLEEP0
Text Label 9000 1850 2    60   ~ 0
FAULT0
Text Label 9000 2000 2    60   ~ 0
CH0
Wire Bus Line
	7900 1200 7900 4200
Wire Bus Line
	8050 1200 8050 4300
Wire Bus Line
	8200 1200 8200 4400
Wire Bus Line
	8350 1200 8350 4500
Wire Bus Line
	8500 1200 8500 4650
Wire Bus Line
	8650 1200 8650 4800
Entry Wire Line
	8650 2100 8750 2000
Entry Wire Line
	8500 1950 8600 1850
Entry Wire Line
	8350 1800 8450 1700
Entry Wire Line
	8200 1700 8300 1600
Entry Wire Line
	8050 1600 8150 1500
Entry Wire Line
	7900 1500 8000 1400
Entry Wire Line
	7900 2400 8000 2300
Entry Wire Line
	8050 2500 8150 2400
Entry Wire Line
	8200 2600 8300 2500
Entry Wire Line
	8350 2700 8450 2600
Entry Wire Line
	8500 2850 8600 2750
Entry Wire Line
	8650 3000 8750 2900
Wire Wire Line
	8000 2300 9050 2300
Wire Wire Line
	8150 2400 9050 2400
Wire Wire Line
	8300 2500 9050 2500
Wire Wire Line
	8450 2600 9050 2600
Wire Wire Line
	8600 2750 9050 2750
Wire Wire Line
	8750 2900 9050 2900
Entry Wire Line
	8650 3900 8750 3800
Wire Wire Line
	8000 3200 9050 3200
Wire Wire Line
	8150 3300 9050 3300
Wire Wire Line
	8300 3400 9050 3400
Wire Wire Line
	8450 3500 9050 3500
Wire Wire Line
	8600 3650 9050 3650
Wire Wire Line
	8750 3800 9050 3800
Entry Wire Line
	8650 4800 8750 4700
Wire Wire Line
	8000 4100 9050 4100
Wire Wire Line
	8150 4200 9050 4200
Wire Wire Line
	8300 4300 9050 4300
Wire Wire Line
	8450 4400 9050 4400
Wire Wire Line
	8600 4550 9050 4550
Wire Wire Line
	8750 4700 9050 4700
Entry Wire Line
	7900 3300 8000 3200
Entry Wire Line
	8050 3400 8150 3300
Entry Wire Line
	8200 3500 8300 3400
Entry Wire Line
	8350 3600 8450 3500
Entry Wire Line
	8500 3750 8600 3650
Entry Wire Line
	8500 4650 8600 4550
Entry Wire Line
	8350 4500 8450 4400
Entry Wire Line
	8200 4400 8300 4300
Entry Wire Line
	8050 4300 8150 4200
Entry Wire Line
	7900 4200 8000 4100
Text Label 9000 2300 2    60   ~ 0
STEP1
Text Label 9000 2400 2    60   ~ 0
DIR1
Text Label 9000 2500 2    60   ~ 0
EN1
Text Label 9000 2600 2    60   ~ 0
SLEEP1
Text Label 9000 2750 2    60   ~ 0
FAULT1
Text Label 9000 2900 2    60   ~ 0
CH1
Text Label 9000 3200 2    60   ~ 0
STEP2
Text Label 9000 3300 2    60   ~ 0
DIR2
Text Label 9000 3400 2    60   ~ 0
EN2
Text Label 9000 3500 2    60   ~ 0
SLEEP2
Text Label 9000 3650 2    60   ~ 0
FAULT2
Text Label 9000 3800 2    60   ~ 0
CH2
Text Label 9000 4100 2    60   ~ 0
STEP3
Text Label 9000 4200 2    60   ~ 0
DIR3
Text Label 9000 4300 2    60   ~ 0
EN3
Text Label 9000 4400 2    60   ~ 0
SLEEP3
Text Label 9000 4550 2    60   ~ 0
FAULT3
Text Label 9000 4700 2    60   ~ 0
CH3
Wire Bus Line
	5400 2200 6200 2200
Wire Bus Line
	5400 2300 6200 2300
Wire Bus Line
	5400 2100 6200 2100
Wire Bus Line
	5400 2400 6200 2400
Wire Bus Line
	5400 2500 6200 2500
Wire Bus Line
	7250 2450 7600 2450
Text Label 5750 2100 0    60   ~ 0
STEP[0..3]
Text Label 5750 2200 0    60   ~ 0
DIR[0..3]
Text Label 5750 2300 0    60   ~ 0
EN[0..3]
Text Label 5750 2400 0    60   ~ 0
SLEEP[0..3]
Text Label 5750 2500 0    60   ~ 0
FAULT[0..3]
Text Label 7900 1650 1    60   ~ 0
STEP[0..3]
Text Label 8050 1650 1    60   ~ 0
DIR[0..3]
Text Label 8200 1650 1    60   ~ 0
EN[0..3]
Text Label 8350 1650 1    60   ~ 0
SLEEP[0..3]
Text Label 8500 1650 1    60   ~ 0
FAULT[0..3]
Text Label 7250 2450 0    60   ~ 0
CH[0..3]
Text Label 8650 1650 1    60   ~ 0
CH[0..3]
$Sheet
S 1750 1100 1550 3200
U 566CD168
F0 "MCU_GPIO" 60
F1 "mcu_gpio.sch" 60
$EndSheet
$Sheet
S 1800 4700 1500 1750
U 566DECB3
F0 "MCU_MAIN" 60
F1 "MCU_main.sch" 60
$EndSheet
$EndSCHEMATC
